/**
* A Rectangle object is an area defined by its position, as indicated by its top-left corner point (x, y) and by its width and its height.
* The x, y, width, and height properties of the Rectangle class are independent of each other; changing the value of one property has no effect on the others. However, the right and bottom properties are integrally related to those four properties. For example, if you change the value of the right property, the value of the width property changes; if you change the bottom property, the value of the height property changes.
* @constructor
* @author Leandro Ferreira
*/
function Rectangle(a,b,c,d){return this.x=a,this.y=b,this.width=c,this.height=d,this.__defineGetter__("size",function(){return new Point(this.width,this.height)}),this.__defineSetter__("size",function(a){this.inflatePoint(a)}),this.__defineGetter__("top",function(){return this.y}),this.__defineSetter__("top",function(){this.y=top}),this.__defineGetter__("bottom",function(){return this.y+this.height}),this.__defineSetter__("bottom",function(a){this.height=a-this.y}),this.__defineGetter__("left",function(){return this.x}),this.__defineSetter__("left",function(a){this.x=a}),this.__defineGetter__("right",function(){return this.x+this.height}),this.__defineSetter__("right",function(a){this.width=a-this.x}),this.__defineGetter__("topLeft",function(){return new Point(this.left,this.top)}),this.__defineSetter__("topLeft",function(a){this.left=a.x,this.top=a.y}),this.__defineGetter__("topRight",function(){return new Point(this.right,this.top)}),this.__defineSetter__("topRight",function(a){this.right=a.x,this.top=a.y}),this.__defineGetter__("bottomLeft",function(){return new Point(this.left,this.bottom)}),this.__defineSetter__("bottomLeft",function(a){this.left=a.x,this.bottom=a.y}),this.__defineGetter__("bottomRight",function(){return new Point(this.right,this.bottom)}),this.__defineSetter__("bottomRight",function(a){this.right=a.x,this.bottom=a.y}),this.clone=function(){return new Rectangle(this.x,this.y,this.width,this.height)},this.contains=function(a,b){return a>this.left&&a<this.right&&b>this.top&&b<this.bottom},this.containsPoint=function(a){return this.contains(a.x,a.y)},this.containsRect=function(a){return this.containsPoint(a.topLeft)&&this.containsPoint(a.bottomRight)},this.equals=function(a){return a.topLeft.equals(this.topLeft)&&a.bottomRight.equals(this.bottomRight)},this.inflate=function(a,b){this.width+=a,this.height+=b},this.inflatePoint=function(a){this.inflate(a.width,a.height)},this.intersection=function(a){if(this.intersects(a)){var b=Math.max(this.top,toUnion.top),c=Math.max(this.left,toUnion.left),d=Math.min(this.bottom,toUnion.bottom),e=Math.min(this.right,toUnion.right);return new Rectangle(c,b,e-c,d-b)}return null},this.intersects=function(a){return this.containsPoint(a.topLeft)||this.containsPoint(a.topRight)||this.containsPoint(a.bottomLeft)||this.containsPoint(a.bottomRight)},this.isEmpty=function(){return 0==this.x&&0==this.y&&0==this.width&&0==this.height},this.offset=function(a,b){this.x+=a,this.y+=b},this.offsetPoint=function(a){this.offset(a.x,a.y)},this.setEmpty=function(){this.x=this.y=this.width=this.height=0},this.union=function(a){var b=Math.min(this.top,a.top),c=Math.min(this.left,a.left),d=Math.max(this.bottom,a.bottom),e=Math.max(this.right,a.right);return new Rectangle(c,b,e-c,d-b)},this}